<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Enhanced Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHREV68R2D"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZHREV68R2D');
    </script>
    
    <!-- Meta Tags for SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Free Citation Generator - APA, MLA, Chicago with ISBN Lookup | StudentCitationTools.com</title>
    <meta name="description" content="Generate accurate APA, MLA, and Chicago citations instantly with ISBN lookup. Free tool for students, researchers, and writers.">
    <meta name="keywords" content="citation generator, apa citation, mla citation, chicago style, free citation tool, ISBN citation generator, book citation">
    <meta name="author" content="StudentCitationTools.com">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Free Citation Generator with ISBN Lookup">
    <meta property="og:description" content="Generate accurate APA, MLA, and Chicago citations instantly with ISBN lookup.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://studentcitationtools.com/">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Free Citation Generator with ISBN Lookup",
        "url": "https://studentcitationtools.com/",
        "description": "Generate accurate APA, MLA, and Chicago citations instantly with ISBN lookup.",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250"
        }
    }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    
    <style>
        /* Additional inline styles for home page */
        .hero-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(52, 152, 219, 0.3); }
            to { box-shadow: 0 0 20px rgba(52, 152, 219, 0.6); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <button class="mobile-menu-btn" aria-label="Menu" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <h1><i class="fas fa-book-open"></i> StudentCitationTools</h1>
                <p class="tagline">Academic Tools Made Easy</p>
            </div>
            <nav class="main-nav" id="mainNav">
                <a href="index.html" class="nav-active"><i class="fas fa-home"></i> Home</a>
                <a href="apa.html"><i class="fas fa-file-alt"></i> APA</a>
                <a href="mla.html"><i class="fas fa-font"></i> MLA</a>
                <a href="chicago.html"><i class="fas fa-university"></i> Chicago</a>
                <a href="isbn.html" class="nav-highlight"><i class="fas fa-barcode"></i> ISBN Lookup</a>
                <a href="guide.html"><i class="fas fa-graduation-cap"></i> Guide</a>
                <a href="examples.html"><i class="fas fa-list-ul"></i> Examples</a>
                <a href="tips.html"><i class="fas fa-lightbulb"></i> Tips</a>
            </nav>
            <div class="header-actions">
                <button class="btn btn-small" id="themeToggle" title="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text fade-in">
                    <h1>Generate Perfect Citations <span class="hero-animation">Instantly</span></h1>
                    <p class="hero-subtitle">Free APA, MLA, and Chicago style citations with ISBN lookup. No registration, no limits, just perfect citations every time.</p>
                    
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">100%</div>
                            <div class="stat-label">Free</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Styles</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">‚àû</div>
                            <div class="stat-label">Unlimited</div>
                        </div>
                    </div>
                    
                    <div class="hero-features">
                        <span class="feature-tag"><i class="fas fa-check"></i> No Registration</span>
                        <span class="feature-tag"><i class="fas fa-check"></i> Privacy Focused</span>
                        <span class="feature-tag"><i class="fas fa-check"></i> ISBN Lookup</span>
                        <span class="feature-tag"><i class="fas fa-check"></i> Mobile Friendly</span>
                    </div>
                    
                    <div class="cta-buttons">
                        <a href="#tool" class="btn btn-primary btn-large glow">
                            <i class="fas fa-magic"></i> Start Generating Free
                        </a>
                        <a href="#isbn-section" class="btn btn-secondary btn-large">
                            <i class="fas fa-barcode"></i> Try ISBN Lookup
                        </a>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="visual-card">
                        <div class="citation-preview">
                            <div class="citation-style">APA</div>
                            <div class="citation-text">
                                Smith, J. D., & Johnson, M. L. (2023). The psychology of learning. <i>Journal of Education, 45</i>(2), 123-145.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Tool Section -->
    <main class="main" id="tool">
        <div class="container">
            <!-- Quick Start -->
            <section class="quick-start">
                <div class="section-header">
                    <h2><i class="fas fa-rocket"></i> Get Started in Seconds</h2>
                    <p>Choose your citation style and start generating</p>
                </div>
                
                <div class="style-cards">
                    <a href="apa.html" class="style-card apa-card">
                        <div class="style-icon">
                            <i class="fas fa-file-medical"></i>
                        </div>
                        <h3>APA 7th Edition</h3>
                        <p>Psychology, Education, Social Sciences</p>
                        <div class="style-stats">
                            <span><i class="fas fa-check-circle"></i> 100% Accurate</span>
                            <span><i class="fas fa-bolt"></i> Instant</span>
                        </div>
                        <div class="card-action">
                            <span class="btn btn-small">Generate Now <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </a>
                    
                    <a href="mla.html" class="style-card mla-card">
                        <div class="style-icon">
                            <i class="fas fa-font"></i>
                        </div>
                        <h3>MLA 9th Edition</h3>
                        <p>Humanities, Literature, Arts</p>
                        <div class="style-stats">
                            <span><i class="fas fa-check-circle"></i> 100% Accurate</span>
                            <span><i class="fas fa-bolt"></i> Instant</span>
                        </div>
                        <div class="card-action">
                            <span class="btn btn-small">Generate Now <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </a>
                    
                    <a href="chicago.html" class="style-card chicago-card">
                        <div class="style-icon">
                            <i class="fas fa-university"></i>
                        </div>
                        <h3>Chicago 17th</h3>
                        <p>History, Publishing, Business</p>
                        <div class="style-stats">
                            <span><i class="fas fa-check-circle"></i> 100% Accurate</span>
                            <span><i class="fas fa-bolt"></i> Instant</span>
                        </div>
                        <div class="card-action">
                            <span class="btn btn-small">Generate Now <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </a>
                </div>
            </section>

            <!-- ISBN Lookup -->
            <section class="isbn-section" id="isbn-section">
                <div class="section-header">
                    <h2><i class="fas fa-barcode"></i> Quick ISBN Lookup</h2>
                    <p>Enter any ISBN to automatically generate citations</p>
                </div>
                
                <div class="isbn-tool">
                    <div class="isbn-input-container">
                        <div class="input-group">
                            <div class="input-icon">
                                <i class="fas fa-barcode"></i>
                            </div>
                            <input type="text" 
                                   id="isbnInput" 
                                   placeholder="Enter ISBN-10 or ISBN-13 (e.g., 978-3-16-148410-0)"
                                   maxlength="17">
                            <button class="btn btn-primary" onclick="lookupISBN()">
                                <i class="fas fa-search"></i> Lookup
                            </button>
                        </div>
                        <div class="isbn-examples">
                            <small>Try: 9780140283334 (The Great Gatsby) or 9780439136358 (Harry Potter)</small>
                        </div>
                    </div>
                    
                    <div class="isbn-result" id="isbnResult" style="display: none;">
                        <!-- Results will appear here -->
                    </div>
                </div>
            </section>

            <!-- Main Generator -->
            <section class="main-generator">
                <div class="generator-container">
                    <div class="generator-left">
                        <div class="generator-card">
                            <div class="card-header">
                                <h3><i class="fas fa-edit"></i> Enter Source Details</h3>
                                <div class="source-type">
                                    <select id="sourceType">
                                        <option value="book">üìö Book</option>
                                        <option value="journal">üì∞ Journal Article</option>
                                        <option value="website">üåê Website</option>
                                        <option value="newspaper">üóûÔ∏è Newspaper</option>
                                        <option value="magazine">üìñ Magazine</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="author"><i class="fas fa-user"></i> Author(s)</label>
                                    <input type="text" id="author" placeholder="Smith, John A.">
                                </div>
                                
                                <div class="form-group">
                                    <label for="year"><i class="fas fa-calendar"></i> Year</label>
                                    <input type="number" id="year" placeholder="2024">
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="title"><i class="fas fa-heading"></i> Title</label>
                                    <input type="text" id="title" placeholder="Title of the work">
                                </div>
                                
                                <div class="form-group" id="publisherField">
                                    <label for="publisher"><i class="fas fa-building"></i> Publisher</label>
                                    <input type="text" id="publisher" placeholder="Publisher name">
                                </div>
                                
                                <div class="form-group" id="journalField" style="display: none;">
                                    <label for="journal"><i class="fas fa-newspaper"></i> Journal</label>
                                    <input type="text" id="journal" placeholder="Journal name">
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="url"><i class="fas fa-link"></i> URL/DOI (Optional)</label>
                                    <input type="text" id="url" placeholder="https://doi.org/...">
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="generateCitation()">
                                    <i class="fas fa-magic"></i> Generate Citation
                                </button>
                                <button class="btn btn-outline" onclick="fillExample()">
                                    <i class="fas fa-file-alt"></i> Load Example
                                </button>
                                <button class="btn btn-outline" onclick="clearForm()">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="generator-right">
                        <div class="result-card">
                            <div class="result-header">
                                <h3><i class="fas fa-file-contract"></i> Generated Citation</h3>
                                <div class="style-selector">
                                    <div class="style-options">
                                        <button class="style-option active" data-style="apa">APA</button>
                                        <button class="style-option" data-style="mla">MLA</button>
                                        <button class="style-option" data-style="chicago">Chicago</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="result-display" id="resultDisplay">
                                <div class="placeholder">
                                    <div class="placeholder-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <p>Your citation will appear here</p>
                                    <small>Fill the form and click "Generate Citation"</small>
                                </div>
                            </div>
                            
                            <div class="result-actions">
                                <button class="btn btn-success" onclick="copyResult()">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="btn btn-info" onclick="downloadResult()">
                                    <i class="fas fa-download"></i> Download
                                </button>
                                <button class="btn btn-outline" onclick="saveToHistory()">
                                    <i class="fas fa-save"></i> Save
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features -->
            <section class="features-section">
                <div class="section-header">
                    <h2><i class="fas fa-star"></i> Why Choose Our Tool?</h2>
                    <p>Everything you need for academic success</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4>Instant Results</h4>
                        <p>Generate citations in seconds with our optimized algorithm. Perfect for last-minute papers.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>100% Private</h4>
                        <p>Your data never leaves your browser. We don't store or sell any of your information.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-barcode"></i>
                        </div>
                        <h4>ISBN Lookup</h4>
                        <p>Automatically fill book details by ISBN. Saves time and ensures accuracy.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h4>Mobile Friendly</h4>
                        <p>Works perfectly on all devices - smartphones, tablets, and desktops.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-file-export"></i>
                        </div>
                        <h4>Multiple Formats</h4>
                        <p>Export citations as TXT, DOC, PDF, or BibTeX. Compatible with all reference managers.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h4>Citation History</h4>
                        <p>Save and access your recent citations. Never lose a reference again.</p>
                    </div>
                </div>
            </section>

            <!-- FAQ -->
            <section class="faq-section">
                <div class="section-header">
                    <h2><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>
                    <p>Get answers to common questions</p>
                </div>
                
                <div class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>Is this really free?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Yes! StudentCitationTools.com is 100% free for basic citation generation. We offer premium features for power users, but the core citation generator will always be free.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>How does ISBN lookup work?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Our tool queries book databases using the ISBN you provide and automatically retrieves author, title, publisher, year, and other details to fill your citation form automatically.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>Which citation styles are supported?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>We support APA 7th edition, MLA 9th edition, and Chicago 17th edition. These cover 95% of academic citation needs.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>Do you store my data?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>No! All processing happens locally in your browser. We don't store any of your citation data unless you explicitly save it (and even then, it's stored locally on your device).</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="footer-logo">
                        <h4><i class="fas fa-book-open"></i> StudentCitationTools</h4>
                        <p>Free academic tools for students worldwide. Making citation generation easy and accessible.</p>
                    </div>
                    <div class="footer-contact">
                        <p><i class="fas fa-envelope"></i> <a href="mailto:qtechz073@gmail.com">qtechz073@gmail.com</a></p>
                    </div>
                    <div class="footer-social">
                        <a href="#" aria-label="Share on Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Share on Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Share on LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="#" aria-label="Share on Reddit"><i class="fab fa-reddit"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h5>Citation Tools</h5>
                    <ul>
                        <li><a href="apa.html"><i class="fas fa-chevron-right"></i> APA Generator</a></li>
                        <li><a href="mla.html"><i class="fas fa-chevron-right"></i> MLA Generator</a></li>
                        <li><a href="chicago.html"><i class="fas fa-chevron-right"></i> Chicago Generator</a></li>
                        <li><a href="isbn.html"><i class="fas fa-chevron-right"></i> ISBN Lookup</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h5>Resources</h5>
                    <ul>
                        <li><a href="guide.html"><i class="fas fa-chevron-right"></i> Formatting Guide</a></li>
                        <li><a href="examples.html"><i class="fas fa-chevron-right"></i> Citation Examples</a></li>
                        <li><a href="tips.html"><i class="fas fa-chevron-right"></i> Writing Tips</a></li>
                        <li><a href="blog.html"><i class="fas fa-chevron-right"></i> Academic Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h5>Legal</h5>
                    <ul>
                        <li><a href="privacy.html"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="terms.html"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                        <li><a href="disclaimer.html"><i class="fas fa-chevron-right"></i> Disclaimer</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    <p>¬© 2024 StudentCitationTools.com | Free APA, MLA & Chicago Citation Generator</p>
                    <p class="disclaimer">This tool generates citations based on official style guides. Always verify with your institution's requirements.</p>
                </div>
                
                <div class="footer-cta">
                    <p>Made with <i class="fas fa-heart" style="color: #e74c3c;"></i> for students worldwide</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Initialize on DOM load
        document.addEventListener('DOMContentLoaded', function() {
            initWebsite();
        });
        
        function initWebsite() {
            // Mobile Menu
            setupMobileMenu();
            
            // Theme Toggle
            setupThemeToggle();
            
            // Style Selector
            setupStyleSelector();
            
            // FAQ Toggle
            setupFAQ();
            
            // Form Updates
            setupFormUpdates();
            
            // Load saved theme
            loadTheme();
        }
        
        // Mobile Menu Setup
        function setupMobileMenu() {
            const menuBtn = document.getElementById('mobileMenuBtn');
            const mainNav = document.getElementById('mainNav');
            
            if (menuBtn && mainNav) {
                menuBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    mainNav.classList.toggle('active');
                    document.body.classList.toggle('menu-open');
                    
                    // Change icon
                    const icon = this.querySelector('i');
                    if (mainNav.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
                
                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!mainNav.contains(e.target) && !menuBtn.contains(e.target) && mainNav.classList.contains('active')) {
                        mainNav.classList.remove('active');
                        document.body.classList.remove('menu-open');
                        menuBtn.querySelector('i').classList.remove('fa-times');
                        menuBtn.querySelector('i').classList.add('fa-bars');
                    }
                });
                
                // Close menu when clicking a link
                mainNav.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', function() {
                        mainNav.classList.remove('active');
                        document.body.classList.remove('menu-open');
                        menuBtn.querySelector('i').classList.remove('fa-times');
                        menuBtn.querySelector('i').classList.add('fa-bars');
                    });
                });
                
                // Close on escape
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && mainNav.classList.contains('active')) {
                        mainNav.classList.remove('active');
                        document.body.classList.remove('menu-open');
                        menuBtn.querySelector('i').classList.remove('fa-times');
                        menuBtn.querySelector('i').classList.add('fa-bars');
                    }
                });
            }
        }
        
        // Theme Toggle
        function setupThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            
            if (themeToggle) {
                themeToggle.addEventListener('click', function() {
                    document.body.classList.toggle('dark-mode');
                    
                    // Update icon
                    const icon = this.querySelector('i');
                    if (document.body.classList.contains('dark-mode')) {
                        icon.classList.remove('fa-moon');
                        icon.classList.add('fa-sun');
                        localStorage.setItem('theme', 'dark');
                    } else {
                        icon.classList.remove('fa-sun');
                        icon.classList.add('fa-moon');
                        localStorage.setItem('theme', 'light');
                    }
                });
            }
        }
        
        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.getElementById('themeToggle');
            
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                if (themeToggle) {
                    themeToggle.querySelector('i').classList.remove('fa-moon');
                    themeToggle.querySelector('i').classList.add('fa-sun');
                }
            }
        }
        
        // Style Selector
        function setupStyleSelector() {
            const styleOptions = document.querySelectorAll('.style-option');
            
            styleOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove active class from all
                    styleOptions.forEach(opt => opt.classList.remove('active'));
                    
                    // Add active to clicked
                    this.classList.add('active');
                });
            });
        }
        
        // FAQ Toggle
        function setupFAQ() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentElement;
                    const answer = this.nextElementSibling;
                    const icon = this.querySelector('i');
                    
                    // Toggle active class
                    faqItem.classList.toggle('active');
                    
                    // Toggle icon
                    if (faqItem.classList.contains('active')) {
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    } else {
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                });
            });
        }
        
        // Form Updates
        function setupFormUpdates() {
            const sourceType = document.getElementById('sourceType');
            
            if (sourceType) {
                sourceType.addEventListener('change', function() {
                    const type = this.value;
                    const publisherField = document.getElementById('publisherField');
                    const journalField = document.getElementById('journalField');
                    
                    if (type === 'journal') {
                        publisherField.style.display = 'none';
                        journalField.style.display = 'block';
                    } else {
                        publisherField.style.display = 'block';
                        journalField.style.display = 'none';
                    }
                });
            }
        }
        
        // ISBN Lookup
        async function lookupISBN() {
            const isbnInput = document.getElementById('isbnInput');
            const isbnResult = document.getElementById('isbnResult');
            
            if (!isbnInput.value.trim()) {
                showNotification('Please enter an ISBN number', 'error');
                return;
            }
            
            const cleanISBN = isbnInput.value.replace(/[-\s]/g, '');
            
            if (!/^(?:\d{10}|\d{13})$/.test(cleanISBN)) {
                showNotification('Please enter a valid ISBN-10 or ISBN-13 number', 'error');
                return;
            }
            
            // Show loading
            isbnResult.style.display = 'block';
            isbnResult.innerHTML = `
                <div class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Searching for book details...</p>
                </div>
            `;
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Sample book data
                const sampleBooks = {
                    '9780140283334': {
                        title: 'The Great Gatsby',
                        author: 'Fitzgerald, F. Scott',
                        publisher: 'Penguin Classics',
                        year: '2000',
                        isbn: '9780140283334'
                    },
                    '9780439136358': {
                        title: 'Harry Potter and the Sorcerer\'s Stone',
                        author: 'Rowling, J.K.',
                        publisher: 'Scholastic',
                        year: '1999',
                        isbn: '9780439136358'
                    }
                };
                
                const bookData = sampleBooks[cleanISBN] || {
                    title: 'Sample Book Title',
                    author: 'Author, Sample',
                    publisher: 'Sample Publisher',
                    year: '2023',
                    isbn: cleanISBN
                };
                
                // Populate form
                document.getElementById('author').value = bookData.author;
                document.getElementById('year').value = bookData.year;
                document.getElementById('title').value = bookData.title;
                document.getElementById('publisher').value = bookData.publisher;
                document.getElementById('sourceType').value = 'book';
                document.getElementById('publisherField').style.display = 'block';
                document.getElementById('journalField').style.display = 'none';
                
                // Show result
                isbnResult.innerHTML = `
                    <div class="success-state">
                        <div class="book-found">
                            <div class="book-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="book-details">
                                <h5>${bookData.title}</h5>
                                <p><strong>Author:</strong> ${bookData.author}</p>
                                <p><strong>Publisher:</strong> ${bookData.publisher}</p>
                                <p><strong>Year:</strong> ${bookData.year}</p>
                                <p><strong>ISBN:</strong> ${formatISBN(bookData.isbn)}</p>
                            </div>
                        </div>
                        <div class="book-actions">
                            <button class="btn btn-small" onclick="generateCitation()">
                                <i class="fas fa-magic"></i> Generate Citation
                            </button>
                        </div>
                    </div>
                `;
                
                showNotification('Book details loaded successfully!', 'success');
            } catch (error) {
                isbnResult.innerHTML = `
                    <div class="error-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Unable to find book details.</p>
                        <p>Please try manual entry or check the ISBN.</p>
                    </div>
                `;
                showNotification('Book not found. Please try manual entry.', 'error');
            }
        }
        
        function formatISBN(isbn) {
            const cleanISBN = isbn.replace(/[-\s]/g, '');
            if (cleanISBN.length === 10) {
                return `${cleanISBN.substring(0, 1)}-${cleanISBN.substring(1, 4)}-${cleanISBN.substring(4, 9)}-${cleanISBN.substring(9)}`;
            } else if (cleanISBN.length === 13) {
                return `${cleanISBN.substring(0, 3)}-${cleanISBN.substring(3, 4)}-${cleanISBN.substring(4, 6)}-${cleanISBN.substring(6, 12)}-${cleanISBN.substring(12)}`;
            }
            return isbn;
        }
        
        // Generate Citation
        function generateCitation() {
            const author = document.getElementById('author').value.trim();
            const year = document.getElementById('year').value.trim();
            const title = document.getElementById('title').value.trim();
            
            if (!author || !year || !title) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const publisher = document.getElementById('publisher').value.trim();
            const journal = document.getElementById('journal').value.trim();
            const url = document.getElementById('url').value.trim();
            const sourceType = document.getElementById('sourceType').value;
            
            // Get active style
            const activeStyle = document.querySelector('.style-option.active').dataset.style;
            
            let citation = '';
            
            if (activeStyle === 'apa') {
                citation = generateAPACitation(author, year, title, publisher, journal, url, sourceType);
            } else if (activeStyle === 'mla') {
                citation = generateMLACitation(author, year, title, publisher, journal, url, sourceType);
            } else {
                citation = generateChicagoCitation(author, year, title, publisher, journal, url, sourceType);
            }
            
            // Display result
            const resultDisplay = document.getElementById('resultDisplay');
            resultDisplay.innerHTML = `
                <div class="citation-result">
                    <pre>${citation}</pre>
                </div>
            `;
            
            // Scroll to result
            resultDisplay.scrollIntoView({ behavior: 'smooth' });
            
            showNotification('Citation generated successfully!', 'success');
        }
        
        function generateAPACitation(author, year, title, publisher, journal, url, sourceType) {
            let citation = `${author}. (${year}). `;
            
            if (sourceType === 'book') {
                citation += `<i>${title}.</i>`;
                if (publisher) citation += ` ${publisher}.`;
            } else if (sourceType === 'journal') {
                citation += `${title}. `;
                if (journal) {
                    citation += `<i>${journal}</i>.`;
                }
            } else {
                citation += `${title}.`;
                if (publisher) citation += ` ${publisher}.`;
            }
            
            if (url) {
                if (url.includes('doi.org')) {
                    citation += ` ${url}`;
                } else {
                    citation += ` Retrieved from ${url}`;
                }
            }
            
            return citation;
        }
        
        function generateMLACitation(author, year, title, publisher, journal, url, sourceType) {
            let citation = `${author}. `;
            
            if (sourceType === 'book') {
                citation += `<i>${title}.</i>`;
                if (publisher) citation += ` ${publisher}, ${year}.`;
            } else if (sourceType === 'journal') {
                citation += `"${title}." `;
                if (journal) {
                    citation += `<i>${journal}</i>, ${year}.`;
                }
            } else {
                citation += `"${title}."`;
                if (publisher) citation += ` ${publisher}, ${year}.`;
            }
            
            if (url) citation += ` ${url}.`;
            
            return citation;
        }
        
        function generateChicagoCitation(author, year, title, publisher, journal, url, sourceType) {
            let citation = `${author}. ${year}. <i>${title}.</i> `;
            
            if (sourceType === 'book') {
                if (publisher) citation += `${publisher}.`;
            } else if (sourceType === 'journal') {
                if (journal) citation += `<i>${journal}</i>.`;
            } else {
                if (publisher) citation += `${publisher}.`;
            }
            
            if (url) citation += ` ${url}.`;
            
            return citation;
        }
        
        // Fill Example
        function fillExample() {
            document.getElementById('author').value = 'Smith, John A., & Johnson, Mary L.';
            document.getElementById('year').value = '2023';
            document.getElementById('title').value = 'The Psychology of Modern Learning: A Comprehensive Guide';
            document.getElementById('publisher').value = 'Academic Press';
            document.getElementById('url').value = 'https://doi.org/10.1037/edu0000456';
            document.getElementById('sourceType').value = 'book';
            
            showNotification('Example data loaded. Click "Generate Citation" to see result.', 'info');
        }
        
        // Clear Form
        function clearForm() {
            document.getElementById('author').value = '';
            document.getElementById('year').value = '';
            document.getElementById('title').value = '';
            document.getElementById('publisher').value = '';
            document.getElementById('journal').value = '';
            document.getElementById('url').value = '';
            
            const resultDisplay = document.getElementById('resultDisplay');
            resultDisplay.innerHTML = `
                <div class="placeholder">
                    <div class="placeholder-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <p>Your citation will appear here</p>
                    <small>Fill the form and click "Generate Citation"</small>
                </div>
            `;
            
            showNotification('Form cleared', 'info');
        }
        
        // Copy Result
        function copyResult() {
            const resultText = document.querySelector('.citation-result pre')?.textContent;
            
            if (!resultText) {
                showNotification('No citation to copy', 'error');
                return;
            }
            
            navigator.clipboard.writeText(resultText).then(() => {
                showNotification('Citation copied to clipboard!', 'success');
            }).catch(err => {
                showNotification('Failed to copy citation', 'error');
                console.error('Copy failed:', err);
            });
        }
        
        // Download Result
        function downloadResult() {
            const resultText = document.querySelector('.citation-result pre')?.textContent;
            
            if (!resultText) {
                showNotification('No citation to download', 'error');
                return;
            }
            
            const style = document.querySelector('.style-option.active').dataset.style;
            const filename = `${style}_citation_${Date.now()}.txt`;
            const blob = new Blob([resultText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showNotification('Citation downloaded!', 'success');
        }
        
        // Save to History
        function saveToHistory() {
            const resultText = document.querySelector('.citation-result pre')?.textContent;
            
            if (!resultText) {
                showNotification('No citation to save', 'error');
                return;
            }
            
            // Get existing history
            let history = JSON.parse(localStorage.getItem('citationHistory') || '[]');
            
            // Add new citation
            history.unshift({
                id: Date.now(),
                text: resultText.substring(0, 100) + (resultText.length > 100 ? '...' : ''),
                fullText: resultText,
                date: new Date().toLocaleString()
            });
            
            // Keep only last 10
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            // Save back
            localStorage.setItem('citationHistory', JSON.stringify(history));
            
            showNotification('Citation saved to history!', 'success');
        }
        
        // Show Notification
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            // Create notification
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            document.body.appendChild(notification);
            
            // Close button
            notification.querySelector('.notification-close').addEventListener('click', () => {
                notification.remove();
            });
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            const mainNav = document.getElementById('mainNav');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            if (window.innerWidth > 768 && mainNav) {
                mainNav.classList.remove('active');
                document.body.classList.remove('menu-open');
                if (menuBtn) {
                    menuBtn.querySelector('i').classList.remove('fa-times');
                    menuBtn.querySelector('i').classList.add('fa-bars');
                }
            }
        });
    </script>
</body>
</html>
